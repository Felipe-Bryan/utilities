(()=>{"use strict";var e={156:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registeredKmKey=void 0;const o=n(205),a=n(358),d=n(458),l=n(629),i=n(245),r=n(641),s=n(157);if(t.registeredKmKey="regKm",(0,r.getStorageData)(t.registeredKmKey)){(0,i.setHome)();const e=document.getElementById("kmItems");(0,r.getStorageData)(t.registeredKmKey).forEach((t=>{e.innerHTML+=(0,a.KmItem)(t)})),document.getElementById("btnAdd").addEventListener("click",(()=>{(0,o.AddKmModal)();const e=document.getElementById("currentKm"),n=document.getElementById("liters");e.addEventListener("keyup",(()=>{const t=document.getElementById("prevKm");document.getElementById("mileage").value=String(Number(e.value)-Number(t.value))})),n.addEventListener("keyup",(()=>{const e=document.getElementById("mileage");document.getElementById("kml").value=String((Number(e.value)/Number(n.value)).toFixed(2))})),document.getElementById("confirm").addEventListener("click",(()=>{const e=document.getElementById("kmDate"),n=document.getElementById("currentKm"),o=document.getElementById("prevKm"),a=document.getElementById("liters"),d=document.getElementById("mileage"),l=document.getElementById("kml");if(!n.value)return void(0,s.invalidateInput)(n);if(!a.value)return void(0,s.invalidateInput)(a);const i={date:e.value,currentKm:Number(n.value),prevKm:Number(o.value),liters:Number(a.value),mileage:Number(d.value),kml:Number(l.value)},u=(0,r.getStorageData)(t.registeredKmKey);u.push(i),(0,r.saveToStorage)(t.registeredKmKey,u),location.reload()}))}))}else(0,d.NewKmModal)(),document.getElementById("confirm").addEventListener("click",(()=>{(0,l.saveKmInfo)(),location.reload()}))},157:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.invalidateInput=void 0,t.invalidateInput=function(e){e.classList.add("is-invalid"),e.focus(),e.addEventListener("change",(()=>{e.classList.remove("is-invalid")}))}},205:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddKmModal=void 0;const o=n(156),a=n(302),d=n(641),l=n(234),i=n(479);function r(){const e=(0,d.getStorageData)(o.registeredKmKey),t=e[e.length-1];let n="";return n+=(0,l.Input)({id:"kmDate",title:"Data",type:"date",value:(0,a.dateString)()}),n+=(0,l.Input)({id:"prevKm",title:"KM Anterior",type:"number",value:String(t.currentKm),disabled:!0}),n+=(0,l.Input)({id:"currentKm",title:"KM Atual",type:"number"}),n+=(0,l.Input)({id:"liters",title:"Litros",type:"number"}),n+=(0,l.Input)({id:"mileage",title:"Rodado",type:"number",disabled:!0}),n+=(0,l.Input)({id:"kml",title:"KM / Litro",type:"number",disabled:!0}),n}t.AddKmModal=function(){(0,i.Modal)({id:"infKm",title:"Adicionar KM",fullscreen:"full",footer:(0,i.modalFooter)({btns:[{id:"confirm",color:"success",label:"Salvar"}]}),content:r()})}},228:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Root=void 0,t.Root=document.getElementById("root")},234:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0,t.Input=function(e){return`\n<div class="input-group mb-2">\n  <span class="input-group-text w-25" id="basic-addon1">${e.title}</span>\n  <input \n    type="${e.type}" \n    class="form-control${e.additionalClass?` ${e.additionalClass}`:""}" \n    id="${e.id}"\n    value="${e.value?e.value:""}" \n    placeholder="${e.placeholder?e.placeholder:e.title}"\n    ${e.disabled?"disabled":""}>\n</div>`}},245:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setHome=void 0;const o=n(896),a=n(228);t.setHome=function(){a.Root.innerHTML='<div class="container" id="kmItems"></div>',a.Root.innerHTML+=(0,o.Button)({id:"btnAdd",color:"primary",label:"+",additionalClass:"rounded-circle btn-lg fw-bold"})}},302:(e,t)=>{function n(){const e=(new Date).getDate();let t="";return t=e<10?"0"+e:String(e),t}function o(){return["01","02","03","04","05","06","07","08","09","10","11","12"][(new Date).getMonth()]}function a(){return(new Date).getFullYear()}function d(){return["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"][(new Date).getDay()]}function l(){return`${(new Date).getHours()}:${(new Date).getMinutes()}`}Object.defineProperty(t,"__esModule",{value:!0}),t.dateStringConvert=t.dateString=t.fullTimeString=t.getHourString=t.getWeekDay=t.getYearString=t.getMonthString=t.getTodayString=void 0,t.getTodayString=n,t.getMonthString=o,t.getYearString=a,t.getWeekDay=d,t.getHourString=l,t.fullTimeString=function(){return`${d()} - ${n()}/${o()}/${a()} ${l()}`},t.dateString=function(){return`${a()}-${o()}-${n()}`},t.dateStringConvert=function(e){return`${e[8]}${e[9]}/${e[5]}${e[6]}/${e[0]}${e[1]}${e[2]}${e[3]}`}},358:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KmItem=void 0;const o=n(302);t.KmItem=function(e){return`\n<div class="border-bottom border-dark m-0 mb-2 p-0">\n    <div class="row">\n        <div class="col">Data: ${(0,o.dateStringConvert)(e.date)}</div>\n        <div class="col text-end">Km: ${e.currentKm}</div>\n    </div>\n        <div class="row">\n        <div class="col text-center">Litros</div>\n        <div class="col text-center">km rodados</div>\n        <div class="col text-center">Km/L</div>\n    </div>\n    <div class="row">\n        <div class="col text-center">${e.liters}</div>\n        <div class="col text-center">${e.mileage}</div>\n        <div class="col text-center">${e.kml}</div>\n    </div>\n</div>`}},458:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NewKmModal=void 0;const o=n(234),a=n(479);t.NewKmModal=function(){let e=(0,o.Input)({id:"prevKm",title:"KM",type:"number"});e+=(0,o.Input)({id:"kmDate",title:"Data",type:"date"}),(0,a.Modal)({id:"infKm",title:"Informar KM Inicial",fullscreen:"full",footer:(0,a.modalFooter)({btns:[{id:"confirm",color:"success",label:"Salvar"}]}),content:e})}},479:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.modalClose=t.modalFooter=t.Modal=void 0;const o=n(896);t.Modal=function(e){const t=document.getElementById("modalSpot");let n="";e.fullscreen&&("full"===e.fullscreen?n=" modal-fullscreen":"sm-down"===e.fullscreen?n=" modal-fullscreen-sm-down":"md-down"===e.fullscreen?n=" modal-fullscreen-md-down":"lg-down"===e.fullscreen&&(n=" modal-fullscreen-lg-down")),t.innerHTML=`\n<button \n    type="button" \n    id="openModal"\n    class="btn btn-primary" \n    data-bs-toggle="modal" \n    data-bs-target="#${e.id}" style="display: none !important"></button>\n\n<div \nclass="modal fade" \nid="${e.id}" \ntabindex="-1" \naria-labelledby="${e.id}Label" \naria-hidden="true"\n${e.staticBackdrop?' data-bs-backdrop="static" data-bs-keyboard="false"':""}>\n  <div class="modal-dialog modal-dialog-scrollable${e.centered?" modal-dialog-centered":""}${e.fullscreen?n:""}">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h1 class="modal-title fs-5" id="${e.id}Label">${e.title}</h1>\n        <button type="button" id="closeModal" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n      </div>\n      <div class="modal-body">\n        ${e.content}\n      </div>\n      <div class="modal-footer">\n        ${e.footer}\n      </div>\n    </div>\n  </div>\n</div>`,document.getElementById("openModal").click()},t.modalFooter=function(e){let t="";return e.btns.forEach((e=>{t+=(0,o.Button)(e)})),t},t.modalClose=function(){document.getElementById("closeModal").click()}},629:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.saveKmInfo=void 0;const o=n(156),a=n(479),d=n(641),l=n(157);t.saveKmInfo=function(){const e=document.getElementById("prevKm"),t=document.getElementById("kmDate"),n=Number(e.value),i=t.value;if(0==n)return void(0,l.invalidateInput)(e);if(""==i)return void(0,l.invalidateInput)(t);const r=[{currentKm:Number(e.value),date:i,prevKm:0,liters:0,mileage:0,kml:0}];(0,d.saveToStorage)(o.registeredKmKey,r),(0,a.modalClose)()}},641:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteSessionStorageData=t.deleteStorageData=t.saveToSessionStorage=t.saveToStorage=t.getSessionStorageData=t.getStorageData=void 0,t.getStorageData=function(e){return JSON.parse(localStorage.getItem(e))},t.getSessionStorageData=function(e){return JSON.parse(sessionStorage.getItem(e))},t.saveToStorage=function(e,t){localStorage.setItem(e,JSON.stringify(t))},t.saveToSessionStorage=function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},t.deleteStorageData=function(e){localStorage.removeItem(e)},t.deleteSessionStorageData=function(e){sessionStorage.removeItem(e)}},896:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BlockButton=t.Button=void 0,t.Button=function(e){return`<button \ntype="button" \nclass="btn btn-${e.outline?"outline-":""}${e.color}${e.additionalClass?` ${e.additionalClass}`:""}" \nid="${e.id}"\n${e.disabled?"disabled":""}\n${e.toggle?'data-bs-toggle="button"':""}\n${e.additionalProps?e.additionalProps:""}>${e.label}</button>`},t.BlockButton=function(e){return`<div class="d-grid gap-2">\n  <button \n    type="button" \n    class="btn btn-${e.outline?"outline-":""}${e.color}${e.additionalClass?` ${e.additionalClass}`:""}" \n    id="${e.id}"\n    ${e.disabled?"disabled":""}\n    ${e.toggle?'data-bs-toggle="button"':""}\n    ${e.additionalProps?e.additionalProps:""}>${e.label}</button>\n</div>`}}},t={};!function n(o){var a=t[o];if(void 0!==a)return a.exports;var d=t[o]={exports:{}};return e[o](d,d.exports,n),d.exports}(156)})();